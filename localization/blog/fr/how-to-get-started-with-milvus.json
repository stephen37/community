{"codeList":["!pip install -U pymilvus\n!pip install \"pymilvus[model]\"\n","from pymilvus import model\n\ndocs = [\n    \"Artificial intelligence was founded as an academic discipline in 1956.\",\n    \"Alan Turing was the first person to conduct substantial research in AI.\",\n    \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\n\nsentence_transformer_ef = model.dense.SentenceTransformerEmbeddingFunction(\n    model_name='all-MiniLM-L6-v2', \n    device='cpu' \n)\n\nvectors  = sentence_transformer_ef.encode_documents(docs)\ndata = [ {\"id\": i, \"vector\": vectors[i], \"text\": docs[i]} for i in range(len(vectors)) ]\n","from pymilvus import MilvusClient, DataType, db, connections\n\nschema = MilvusClient.create_schema(\n    auto_id=False,\n    enable_dynamic_field=True,\n)\n\n# Add fields to schema\nschema.add_field(field_name=\"id\", datatype=DataType.INT64, is_primary=True)\nschema.add_field(field_name=\"vector\", datatype=DataType.FLOAT_VECTOR, dim=384)\nschema.add_field(field_name=\"text\", datatype=DataType.VARCHAR, max_length=512)\n","client = MilvusClient(\"./milvus_demo.db\")\n\nindex_params = client.prepare_index_params()\n\n#  Add indexes\nindex_params.add_index(\n    field_name=\"vector\", \n    index_type=\"AUTOINDEX\",\n    metric_type=\"COSINE\"\n)\n\n# Create collection\nclient.create_collection(\n    collection_name=\"demo_collection\",\n    schema=schema,\n    index_params=index_params\n)\n\n# Insert data into collection\nres = client.insert(\n    collection_name=\"demo_collection\",\n    data=data\n)\n","query = [\"Who is Alan Turing\"]\nquery_embedding = sentence_transformer_ef.encode_queries(query)\n\n# Load collection\nclient.load_collection(\n    collection_name=\"demo_collection\"\n)\n\n# Vector search\nres = client.search(\n    collection_name=\"demo_collection\",\n    data=query_embedding,\n    limit=1,\n    output_fields=[\"text\"],\n)\nprint(res)\n\"\"\"\nOutput:\ndata: [\"[{'id': 1, 'distance': 0.7199002504348755, 'entity': {'text': 'Alan Turing was the first person to conduct substantial research in AI.'}}]\"] \n\"\"\"\n","# Download the installation script\n$ curl -sfL <https://raw.githubusercontent.com/milvus-io/milvus/master/scripts/standalone_embed.sh> -o standalone_embed.sh\n\n# Start the Docker container\n$ bash standalone_embed.sh start\n","conn = connections.connect(host=\"127.0.0.1\", port=19530)\ndatabase = db.create_database(\"milvus_demo\")\n\nclient = MilvusClient(\n    uri=\"<http://localhost:19530>\",\n    token=\"root:Milvus\",\n    db_name=\"milvus_demo\"\n)\n","index_params = client.prepare_index_params()\n\n#  Add indexes\nindex_params.add_index(\n    field_name=\"vector\", \n    index_type=\"AUTOINDEX\",\n    metric_type=\"COSINE\"\n)\n\n# Create collection\nclient.create_collection(\n    collection_name=\"demo_collection\",\n    schema=schema,\n    index_params=index_params\n)\n\n# Insert data into collection\nres = client.insert(\n    collection_name=\"demo_collection\",\n    data=data\n)\n","query = [\"Who is Alan Turing\"]\nquery_embedding = sentence_transformer_ef.encode_queries(query)\n\n# Load collection\nclient.load_collection(\n    collection_name=\"demo_collection\"\n)\n\n# Vector search\nres = client.search(\n    collection_name=\"demo_collection\",\n    data=query_embedding,\n    limit=1,\n    output_fields=[\"text\"],\n)\nprint(res)\n\"\"\"\nOutput:\ndata: [\"[{'id': 1, 'distance': 0.7199004292488098, 'entity': {'text': 'Alan Turing was the first person to conduct substantial research in AI.'}}]\"] \n\"\"\"\n","$ bash standalone_embed.sh stop\n"],"headingContent":"","anchorList":[{"label":"What is Milvus?","href":"What-is-Milvus","type":2,"isActive":false},{"label":"Milvus Deployment Options","href":"Milvus-Deployment-Options","type":2,"isActive":false},{"label":"Getting Started with Milvus Lite","href":"Getting-Started-with-Milvus-Lite","type":2,"isActive":false},{"label":"Getting Started with Milvus Standalone","href":"Getting-Started-with-Milvus-Standalone","type":2,"isActive":false},{"label":"Fully Managed Milvus","href":"Fully-Managed-Milvus","type":2,"isActive":false},{"label":"Conclusion","href":"Conclusion","type":2,"isActive":false}]}